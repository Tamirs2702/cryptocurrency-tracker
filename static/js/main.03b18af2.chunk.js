(this.webpackJsonpcoinstar=this.webpackJsonpcoinstar||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),l=a.n(r),s=a(11),i=a(1),o=a(9),m=a.n(o),u=a(13),d=a(5),p=function(e){var t=e.data,a=Object(n.useRef)(),r=t.detail,l=Object(n.useState)("24h"),s=Object(d.a)(l,2)[1];Object(n.useEffect)((function(){a&&a.current&&r&&console.log("yeah")}));return c.a.createElement("div",{className:"bg-white border mt-2 rounded p-3"},c.a.createElement("div",null,function(){if(r)return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"my-0"},"$",r.current_price.toFixed(2)),c.a.createElement("p",{className:r.price_change_24h<0?"text-danger my-0":"text-success my-0"},r.price_change_percentage_24h.toFixed(2),"%"))}()),c.a.createElement("div",null,c.a.createElement("canvas",{ref:a,id:"myChart",width:250,height:250})),c.a.createElement("div",{className:"chart-button mt-1"},c.a.createElement("button",{onClick:function(){return s("24h")},className:"btn btn-outline-secondary btn-sm"},"24h"),c.a.createElement("button",{onClick:function(){return s("7d")},className:"btn btn-outline-secondary btn-sm mx-1"},"7d"),c.a.createElement("button",{onClick:function(){return s("1y")},className:"btn btn-outline-secondary btn-sm"},"1y")))},f=function(e){var t=e.data;return c.a.createElement("div",null,function(){if(t)return c.a.createElement("div",{className:"bg-white mt-3 p-2 rounded border row"},c.a.createElement("div",{className:"col-sm"},c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"text-muted coin-data-category"},"Market Cap"),c.a.createElement("span",null,t.market_cap)),c.a.createElement("hr",null),c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"text-muted coin-data-category"},"Total Supply"),c.a.createElement("span",null,t.total_supply))),c.a.createElement("div",{className:"col-sm"},c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"text-muted coin-data-category"},"Volume(24H)"),c.a.createElement("span",null,t.total_volume)),c.a.createElement("hr",null),c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"text-muted coin-data-category"},"high 24h"),c.a.createElement("span",null,t.high_24h))),c.a.createElement("div",{className:"col-sm"},c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"text-muted coin-data-category"},"Circulating Supply"),c.a.createElement("span",null,t.circulating_supply)),c.a.createElement("hr",null),c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"text-muted coin-data-category"},"low 24h"),c.a.createElement("span",null,t.low_24h))))}())},E=a(28),b=a.n(E).a.create({baseURL:"https://api.coingecko.com/api/v3"}),h=function(){var e=Object(i.e)().id,t=Object(n.useState)({}),a=Object(d.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!1),o=Object(d.a)(s,2),E=o[0],h=o[1],g=function(e){return e.map((function(e){return{t:e[0],y:e[1].toFixed(2)}}))};Object(n.useEffect)((function(){(function(){var t=Object(u.a)(m.a.mark((function t(){var a,n,c,r,s,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.next=3,Promise.all([b.get("/coins/".concat(e,"/market_chart/"),{params:{vs_currency:"usd",days:"1"}}),b.get("/coins/".concat(e,"/market_chart/"),{params:{vs_currency:"usd",days:"7"}}),b.get("/coins/".concat(e,"/market_chart/"),{params:{vs_currency:"usd",days:"365"}}),b.get("/coins/markets/",{params:{vs_currency:"usd",ids:e}})]);case 3:a=t.sent,n=Object(d.a)(a,4),c=n[0],r=n[1],s=n[2],i=n[3],console.log(c),l({day:g(c.data.prices),week:g(r.data.prices),year:g(s.data.prices),detail:i.data[0]}),h(!1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);return E?c.a.createElement("div",null,"Loading...."):c.a.createElement("div",{className:"coinlist"},c.a.createElement(p,{data:r}),c.a.createElement(f,{data:r.detail}))},g=a(31),v=Object(n.createContext)(),x=function(e){var t;console.log();var a=Object(n.useState)((null===(t=localStorage.getItem("watchList"))||void 0===t?void 0:t.split(","))||["bitcoin","ethereum","litecoin"]),r=Object(d.a)(a,2),l=r[0],s=r[1];Object(n.useEffect)((function(){localStorage.setItem("watchList",l)}),[l]);return c.a.createElement(v.Provider,{value:{watchList:l,deleteCoin:function(e){s(l.filter((function(t){return t!==e})))},addCoin:function(e){-1===l.indexOf(e)&&s([].concat(Object(g.a)(l),[e]))}}},e.children)},y=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],l=Object(n.useContext)(v).addCoin;return c.a.createElement("div",{className:"dropdown"},c.a.createElement("button",{onClick:function(){return r(!a)},className:"btn btn-primary dropdown-toggle",type:"button"},"Add Coin"),c.a.createElement("div",{className:a?"dropdown-menu show":"dropdown-menu"},["bitcoin","ethereum","ripple","tether","bitcoin-cash","litecoin","eos","okb","tezos","cardano"].map((function(e){return c.a.createElement("a",{onClick:function(){return l(e),void r(!1)},href:"#",className:"dropdown-item"},e)}))))},N=function(e){var t=e.coin,a=e.deleteCoin;return c.a.createElement(s.b,{to:"/coins/".concat(t.id),className:"text-decoration-none my-1 coin"},c.a.createElement("li",{className:"coinlist-item list-group-item list-group-item-action d-flex justify-content-between align-items-center text-dark"},c.a.createElement("img",{className:"coinlist-image",src:t.image,alt:""}),c.a.createElement("span",{className:"text-decoration-none"},t.current_price),c.a.createElement("span",{className:t.price_change_percentage_24h<0?"text-danger mr-2":"text-success mr-2"}," ",t.price_change_percentage_24h<0?c.a.createElement("i",{className:"fas fa-sort-down align-middle mr-1"}):c.a.createElement("i",{className:"fas fa-sort-up align-middle mr-1"}),t.price_change_percentage_24h),c.a.createElement("i",{onClick:function(e){e.preventDefault(),a(t.id)},className:"delete-icon far fa-times-circle text-danger"})))},_=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],l=Object(n.useContext)(v),s=l.watchList,i=l.deleteCoin,o=Object(n.useState)(!1),p=Object(d.a)(o,2),f=p[0],E=p[1];console.log(s),Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,b.get("/coins/markets/",{params:{vs_currency:"usd",ids:s.join(",")}});case 3:t=e.sent,r(t.data),E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s.length>0?e():r([])}),[s]);return c.a.createElement("div",null,f?c.a.createElement("div",null,"Loading..."):c.a.createElement("ul",{className:"coinlist list-group mt-2"},a.map((function(e){return c.a.createElement(N,{key:e.id,coin:e,deleteCoin:i})}))))},j=function(){return c.a.createElement("div",{className:"coinsummary shadow border p-2 rounded mt-2 bg-light"},c.a.createElement(y,null),c.a.createElement(_,null))},O=function(){return c.a.createElement("div",null,c.a.createElement("h1",{className:"text-center text-warning mt-3 mb-4"},"Coinmama"))},w=(a(60),function(){return c.a.createElement("div",{className:"container"},c.a.createElement(x,null,c.a.createElement(s.a,null,c.a.createElement(O,null),c.a.createElement(i.a,{exact:!0,path:"/",component:j}),c.a.createElement(i.a,{path:"/coins/:id",component:h}))))});l.a.render(c.a.createElement(w,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.03b18af2.chunk.js.map